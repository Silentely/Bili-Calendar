# Bili-Calendar é¡¹ç›®æŒ‡å¯¼æ–‡ä»¶

> **æœ€åæ›´æ–°**: 2025-12-12
> **ç‰ˆæœ¬**: v1.1.8
> **é¡¹ç›®ç±»å‹**: Node.js Web åº”ç”¨ (Express + Vite + Vanilla JS)

---

## å˜æ›´è®°å½• (Changelog)

### 2025-12-12
- **[æ¶æ„æ‰«æ]** å®Œæˆé¡¹ç›®å…¨ä»“æ‰«æï¼Œç”Ÿæˆ `.claude/index.json` é¡¹ç›®ç´¢å¼•
- **[è¦†ç›–ç‡æŠ¥å‘Š]** æ•´ä½“è¦†ç›–ç‡ 78%ï¼Œè¯†åˆ«å‡º 4 ä¸ªä¸»è¦ç¼ºå£
- **[æ¨¡å—æ˜ å°„]** è¯†åˆ«å‡º 9 ä¸ªä¸»è¦æ¨¡å—ï¼Œ89 ä¸ªæºæ–‡ä»¶
- **[ä¾èµ–åˆ†æ]** å®Œæˆæ¨¡å—ä¾èµ–å…³ç³»æ¢³ç†
- **[æµ‹è¯•çŠ¶æ€]** ç¡®è®¤ 85% æµ‹è¯•è¦†ç›–ç‡ï¼Œå¾…è¡¥å…… Mock æµ‹è¯•

### 2025-12-01
- **[æ¶æ„é‡æ„]** ä»ä¼ ç»Ÿé™æ€æ–‡ä»¶è¿ç§»åˆ° Vite æ„å»ºç³»ç»Ÿ
- **[å‰ç«¯å·¥ç¨‹åŒ–]** å¼•å…¥ ES Moduleã€SCSSã€ç»„ä»¶åŒ–å¼€å‘
- **[æ„å»ºä¼˜åŒ–]** æ·»åŠ  Vite 7.x æ„å»ºå·¥å…·ï¼Œæ”¯æŒçƒ­é‡è½½å’Œä»£ç åˆ†å‰²
- **[éƒ¨ç½²ä¿®å¤]** æ›´æ–° Dockerfile å’Œ netlify.toml é…ç½®
- **[æ–‡æ¡£æ›´æ–°]** åŒæ­¥æ›´æ–°é¡¹ç›®æ¶æ„æ–‡æ¡£ï¼Œåæ˜ æ–°çš„ç›®å½•ç»“æ„
- **[ç›‘æ§ & æ¨é€]** æ–°å¢ Prometheus `/metrics/prometheus`ï¼Œæé†’æ”¯æŒè‡ªå®šä¹‰æå‰æ—¶é—´ä¸å®éªŒ WebPushï¼ˆéœ€ VAPIDï¼‰

### 2025-11-30
- **[æ¶æ„å¸ˆåˆå§‹åŒ–]** è‡ªåŠ¨ç”Ÿæˆé¡¹ç›®ç´¢å¼•ä¸æ¨¡å—ç»“æ„å›¾
- **[æ–‡æ¡£å¢å¼º]** æ·»åŠ  Mermaid æ¨¡å—å¯è§†åŒ–å›¾è¡¨
- **[å…ƒæ•°æ®]** ç”Ÿæˆ `.claude/index.json` é¡¹ç›®ç´¢å¼•æ–‡ä»¶
- **[å¯¼èˆªä¼˜åŒ–]** ä¸ºå„æ¨¡å—æ–‡æ¡£æ·»åŠ é¢åŒ…å±‘å¯¼èˆª

### 2025-11-23
- é‡æ„é¡¹ç›®æ–‡æ¡£ç»“æ„ï¼Œç»Ÿä¸€å‘½åè§„èŒƒ
- ç§»é™¤ Mermaid å›¾è¡¨å’Œ emoji è£…é¥°
- æ›´æ–°ä»£ç è§„èŒƒã€æ—¥å¿—è§„èŒƒã€å¼‚å¸¸å¤„ç†æŒ‡å—

---

## é¡¹ç›®æ¦‚è§ˆ

**Bili-Calendar** æ˜¯ä¸€ä¸ªå°† Bç«™è¿½ç•ªåˆ—è¡¨è½¬æ¢ä¸ºæ—¥å†è®¢é˜…çš„ Web æœåŠ¡ï¼Œæ”¯æŒ iCal/ICS æ ¼å¼ï¼Œå…¼å®¹ Apple/Google/Outlook ç­‰ä¸»æµæ—¥å†åº”ç”¨ã€‚

### æ ¸å¿ƒåŠŸèƒ½

- è‡ªåŠ¨åŒæ­¥ Bç«™è¿½ç•ªåˆ—è¡¨åˆ°æ—¥å†åº”ç”¨
- ç²¾ç¡®è§£æç•ªå‰§æ›´æ–°æ—¶é—´ï¼Œæ”¯æŒæ—¶åŒºè½¬æ¢
- æ™ºèƒ½å¤„ç†è¿è½½/å®Œç»“ç•ªå‰§çš„é‡å¤è§„åˆ™
- éšç§ä¿æŠ¤ï¼šæœåŠ¡ç«¯ä¸å­˜å‚¨ç”¨æˆ·æ•°æ®
- å¤–éƒ¨ICSèšåˆï¼šåˆå¹¶æœ€å¤š 5 ä¸ªå¤–éƒ¨æ—¥å†æº

---

## é¡¹ç›®æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å®¢æˆ·ç«¯ (Vite å¼€å‘/æ„å»º)                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ main.js  â”‚  â”‚ i18n.js  â”‚  â”‚ cache    â”‚  â”‚ error    â”‚        â”‚
â”‚  â”‚ (å…¥å£)    â”‚  â”‚ (å¤šè¯­è¨€) â”‚  â”‚ Manager  â”‚  â”‚ Handler  â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚       â”‚ Vite Build â†’ dist/                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚ HTTP Request
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      æœåŠ¡å™¨ (server.js)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ Express ä¸­é—´ä»¶: compression â†’ security â†’ rate-limit  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚          â”‚                                                      â”‚
â”‚          â–¼                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ /api/:uid    â”‚    â”‚ /preview/:uidâ”‚    â”‚ é™æ€æ–‡ä»¶æœåŠ¡  â”‚      â”‚
â”‚  â”‚ (ICSç”Ÿæˆ)    â”‚    â”‚ (ç•ªå‰§é¢„è§ˆ)   â”‚    â”‚ (dist/)      â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       å·¥å…·å±‚ (utils/)                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ bangumi.cjsâ”‚  â”‚ ics.cjs â”‚  â”‚rate-limiter â”‚  â”‚request-dedupâ”‚  â”‚
â”‚  â”‚ (Bç«™API)   â”‚  â”‚(ICSç”Ÿæˆ)â”‚  â”‚  (é™æµ)      â”‚  â”‚  (å»é‡)     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## é¡¹ç›®æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯ | ç‰ˆæœ¬è¦æ±‚ |
|------|------|----------|
| **è¿è¡Œæ—¶** | Node.js | >= 18.0.0 |
| **åç«¯æ¡†æ¶** | Express.js | ^4.18.2 |
| **HTTP å®¢æˆ·ç«¯** | Axios | ^1.12.0 |
| **å‰ç«¯æ¡†æ¶** | Vanilla JavaScript | ES2022+ |
| **æ„å»ºå·¥å…·** | Vite | ^7.2.4 |
| **æ ·å¼é¢„å¤„ç†** | SCSS/Sass | ^1.94.2 |
| **éƒ¨ç½²** | Docker / Netlify Functions | - |
| **æµ‹è¯•** | Node.js å†…ç½®æµ‹è¯•æ¡†æ¶ | - |
| **ä»£ç æ£€æŸ¥** | ESLint + Prettier | ESLint 9.x |

---

## é¡¹ç›®æ¨¡å—åˆ’åˆ†

### æ–‡ä»¶ä¸æ–‡ä»¶å¤¹å¸ƒå±€

```
Bili-Calendar/
â”œâ”€â”€ server.js                    # [å…¥å£] Express ä¸»æœåŠ¡å™¨
â”œâ”€â”€ package.json                 # é¡¹ç›®é…ç½®ä¸ä¾èµ–
â”œâ”€â”€ vite.config.js               # Vite æ„å»ºé…ç½®
â”œâ”€â”€ index.html                   # å‰ç«¯å…¥å£ HTML
â”‚
â”œâ”€â”€ src/                         # [å‰ç«¯] æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ main.js                  # å‰ç«¯å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ components/              # ç»„ä»¶ç›®å½•
â”‚   â”‚   â””â”€â”€ AnimePreview.js      # ç•ªå‰§é¢„è§ˆç»„ä»¶
â”‚   â”œâ”€â”€ services/                # æœåŠ¡æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ i18n.js              # å›½é™…åŒ–æ”¯æŒ
â”‚   â”‚   â”œâ”€â”€ cacheManager.js      # ç¼“å­˜ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ errorHandler.js      # é”™è¯¯å¤„ç†
â”‚   â”‚   â”œâ”€â”€ pwa.js               # PWA åˆå§‹åŒ–
â”‚   â”‚   â”œâ”€â”€ push.js              # æ¨é€æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ notifier.js          # é€šçŸ¥ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ animationService.js  # åŠ¨ç”»æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ clipboardService.js  # å‰ªè´´æ¿æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ loadingService.js    # åŠ è½½çŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ progressService.js   # è¿›åº¦æ¡
â”‚   â”‚   â”œâ”€â”€ themeService.js      # ä¸»é¢˜åˆ‡æ¢
â”‚   â”‚   â””â”€â”€ toastService.js      # æç¤ºæ¶ˆæ¯
â”‚   â”œâ”€â”€ styles/                  # æ ·å¼ç›®å½• (SCSS)
â”‚   â”‚   â”œâ”€â”€ app.scss             # ä¸»æ ·å¼å…¥å£
â”‚   â”‚   â”œâ”€â”€ _modules.scss        # æ¨¡å—åŒ–æ ·å¼
â”‚   â”‚   â”œâ”€â”€ _preview.scss        # é¢„è§ˆæ ·å¼
â”‚   â”‚   â”œâ”€â”€ _loading.scss        # åŠ è½½åŠ¨ç”»
â”‚   â”‚   â”œâ”€â”€ _error.scss          # é”™è¯¯æ ·å¼
â”‚   â”‚   â”œâ”€â”€ _dark.scss           # æš—é»‘æ¨¡å¼
â”‚   â”‚   â””â”€â”€ _history.scss        # å†å²è®°å½•æ ·å¼
â”‚   â””â”€â”€ utils/                   # å‰ç«¯å·¥å…·å‡½æ•°
â”‚       â”œâ”€â”€ deviceDetector.js    # è®¾å¤‡æ£€æµ‹
â”‚       â””â”€â”€ stringUtils.js       # å­—ç¬¦ä¸²å·¥å…·
â”‚
â”œâ”€â”€ dist/                        # [æ„å»ºäº§ç‰©] Vite æ‰“åŒ…è¾“å‡º (ä¸æäº¤åˆ° Git)
â”‚   â”œâ”€â”€ index.html               # å¤„ç†åçš„ HTML
â”‚   â”œâ”€â”€ assets/                  # æ‰“åŒ…åçš„ JS/CSS
â”‚   â””â”€â”€ ...                      # å…¶ä»–é™æ€èµ„æº
â”‚
â”œâ”€â”€ public/                      # [é™æ€èµ„æº] ç›´æ¥å¤åˆ¶åˆ° dist/
â”‚   â”œâ”€â”€ favicon.ico              # ç½‘ç«™å›¾æ ‡
â”‚   â”œâ”€â”€ manifest.webmanifest     # PWA æ¸…å•
â”‚   â”œâ”€â”€ sw.js                    # Service Worker
â”‚   â””â”€â”€ icons/                   # åº”ç”¨å›¾æ ‡
â”‚
â”œâ”€â”€ utils/                       # [åç«¯] å·¥å…·æ¨¡å— (CommonJS)
â”‚   â”œâ”€â”€ bangumi.cjs              # Bç«™ç•ªå‰§æ•°æ®è·å–
â”‚   â”œâ”€â”€ ics.cjs                  # ICS æ—¥å†æ–‡ä»¶ç”Ÿæˆ
â”‚   â”œâ”€â”€ ics-merge.cjs            # å¤–éƒ¨ICSèšåˆ
â”‚   â”œâ”€â”€ rate-limiter.cjs         # è¯·æ±‚é€Ÿç‡é™åˆ¶
â”‚   â”œâ”€â”€ request-dedup.cjs        # è¯·æ±‚å»é‡
â”‚   â”œâ”€â”€ time.cjs                 # æ—¶é—´å¤„ç†å·¥å…·
â”‚   â”œâ”€â”€ http.cjs                 # HTTP è¯·æ±‚å·¥å…·
â”‚   â”œâ”€â”€ constants.cjs            # å¸¸é‡å®šä¹‰
â”‚   â”œâ”€â”€ ip.cjs                   # IP æå–å·¥å…·
â”‚   â”œâ”€â”€ security.cjs             # å®‰å…¨æ ¡éªŒ
â”‚   â”œâ”€â”€ validation.cjs           # å‚æ•°éªŒè¯
â”‚   â”œâ”€â”€ metrics.cjs              # æ€§èƒ½æŒ‡æ ‡
â”‚   â”œâ”€â”€ push-store.cjs           # WebPushå­˜å‚¨
â”‚   â””â”€â”€ CLAUDE.md                # å·¥å…·æ¨¡å—æ–‡æ¡£
â”‚
â”œâ”€â”€ utils-es/                    # [åç«¯] ES Module ç‰ˆæœ¬ (Netlify)
â”‚   â””â”€â”€ ...                      # ä¸ utils/ åŒæ„
â”‚
â”œâ”€â”€ netlify/                     # [éƒ¨ç½²] Netlify Functions
â”‚   â”œâ”€â”€ functions/               # Serverless å‡½æ•°æºç 
â”‚   â”‚   â””â”€â”€ server.js            # API å‡½æ•°å…¥å£
â”‚   â””â”€â”€ functions-build/         # æ„å»ºäº§ç‰©
â”‚
â”œâ”€â”€ test/                        # [æµ‹è¯•] å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ utils.*.test.js          # å·¥å…·å±‚æµ‹è¯•
â”‚   â”œâ”€â”€ services.*.test.js       # æœåŠ¡å±‚æµ‹è¯•
â”‚   â”œâ”€â”€ ics-merge.test.js        # ICSèšåˆæµ‹è¯•
â”‚   â”œâ”€â”€ metrics.test.js          # æŒ‡æ ‡æµ‹è¯•
â”‚   â””â”€â”€ CLAUDE.md                # æµ‹è¯•æ¨¡å—æ–‡æ¡£
â”‚
â”œâ”€â”€ scripts/                     # [æ„å»º] æ„å»ºè„šæœ¬
â”‚   â”œâ”€â”€ build-netlify.mjs        # Netlifyæ„å»º
â”‚   â”œâ”€â”€ update-readme-year.js    # READMEå¹´ä»½æ›´æ–°
â”‚   â”œâ”€â”€ check-dist.js            # æ„å»ºäº§ç‰©æ£€æŸ¥
â”‚   â””â”€â”€ generate-vapid.js        # VAPIDå¯†é’¥ç”Ÿæˆ
â”‚
â””â”€â”€ .claude/                     # [å…ƒæ•°æ®] AIä¸Šä¸‹æ–‡ç´¢å¼•
    â””â”€â”€ index.json               # é¡¹ç›®ç´¢å¼•æ–‡ä»¶
```

---

## æ¨¡å—ç»“æ„å¯è§†åŒ–

```mermaid
graph TD
    Root["(æ ¹) Bili-Calendar"] --> Server["server.js<br/>ExpressæœåŠ¡å™¨"]
    Root --> Src["src/<br/>å‰ç«¯æºä»£ç "]
    Root --> Public["public/<br/>é™æ€èµ„æº"]
    Root --> Dist["dist/<br/>æ„å»ºäº§ç‰©<br/>(ä¸æäº¤)"]
    Root --> Utils["utils/<br/>åç«¯å·¥å…·å±‚<br/>(CommonJS)"]
    Root --> UtilsES["utils-es/<br/>åç«¯å·¥å…·å±‚<br/>(ES Module)"]
    Root --> Test["test/<br/>æµ‹è¯•å¥—ä»¶"]
    Root --> Netlify["netlify/<br/>Serverlesséƒ¨ç½²"]
    Root --> Scripts["scripts/<br/>æ„å»ºè„šæœ¬"]
    Root --> Claude[".claude/<br/>AIç´¢å¼•"]

    Src --> SrcMain["main.js<br/>å…¥å£"]
    Src --> SrcComponents["components/<br/>AnimePreview"]
    Src --> SrcServices["services/<br/>12ä¸ªæœåŠ¡æ¨¡å—"]
    Src --> SrcStyles["styles/<br/>SCSSæ ·å¼"]
    Src --> SrcUtils["utils/<br/>å·¥å…·å‡½æ•°"]

    Utils --> UtilsCLAUDE["CLAUDE.md"]
    Test --> TestCLAUDE["CLAUDE.md"]

    click UtilsCLAUDE "./utils/CLAUDE.md" "æŸ¥çœ‹å·¥å…·å±‚æ–‡æ¡£"
    click TestCLAUDE "./test/CLAUDE.md" "æŸ¥çœ‹æµ‹è¯•æ–‡æ¡£"

    style Root fill:#e3f2fd
    style Server fill:#fff9c4
    style Src fill:#fff3e0
    style Public fill:#e8f5e9
    style Dist fill:#ffebee
    style Utils fill:#f3e5f5
    style Test fill:#e8f5e9
    style Claude fill:#e1f5fe
    style UtilsCLAUDE fill:#ffccbc
    style TestCLAUDE fill:#ffccbc
```

---

## æ¨¡å—ç´¢å¼•

| æ¨¡å—åç§° | è·¯å¾„ | èŒè´£æè¿° | è¦†ç›–ç‡ | æ–‡æ¡£é“¾æ¥ |
|---------|------|---------|--------|---------|
| **æœåŠ¡å™¨å…¥å£** | `server.js` | ExpressæœåŠ¡å™¨ã€è·¯ç”±ã€ä¸­é—´ä»¶ã€APIç«¯ç‚¹ | 95% | - |
| **å‰ç«¯æºä»£ç ** | `src/` | ç”¨æˆ·ç•Œé¢ã€äº¤äº’é€»è¾‘ã€ç»„ä»¶ã€æ ·å¼ï¼ˆViteæ„å»ºï¼‰ | 85% | - |
| **é™æ€èµ„æº** | `public/` | å›¾æ ‡ã€PWAæ¸…å•ã€Service Workerã€ç®¡ç†åå° | 0% | - |
| **æ„å»ºäº§ç‰©** | `dist/` | Viteæ‰“åŒ…è¾“å‡ºï¼ˆä¸æäº¤åˆ°Gitï¼‰ | N/A | - |
| **åç«¯å·¥å…·å±‚ (CommonJS)** | `utils/` | Bç«™APIã€ICSç”Ÿæˆã€é™æµã€å»é‡ã€æ—¶é—´å¤„ç† | 80% | [æŸ¥çœ‹æ–‡æ¡£](./utils/CLAUDE.md) |
| **åç«¯å·¥å…·å±‚ (ES Module)** | `utils-es/` | Netlify Serverlessç¯å¢ƒä¸“ç”¨ | 70% | - |
| **æµ‹è¯•å¥—ä»¶** | `test/` | å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯• | 85% | [æŸ¥çœ‹æ–‡æ¡£](./test/CLAUDE.md) |
| **Serverless éƒ¨ç½²** | `netlify/` | Netlify Functionsé…ç½®ä¸æ„å»ºäº§ç‰© | 60% | - |
| **æ„å»ºè„šæœ¬** | `scripts/` | Netlifyæ„å»ºã€READMEæ›´æ–°ã€VAPIDç”Ÿæˆ | 50% | - |
| **Vite é…ç½®** | `vite.config.js` | å‰ç«¯æ„å»ºä¸å¼€å‘æœåŠ¡å™¨é…ç½® | 100% | - |

---

## é¡¹ç›®ä¸šåŠ¡æ¨¡å—

### æ ¸å¿ƒä¸šåŠ¡æµç¨‹

1. **è®¢é˜…ç”Ÿæˆæµç¨‹**
   - ç”¨æˆ·è¾“å…¥ Bç«™ UID
   - è°ƒç”¨ `/api/bangumi/:uid` é¢„æ£€é¢‘æ§
   - åç«¯ä» Bç«™ API è·å–è¿½ç•ªæ•°æ®
   - è¿‡æ»¤æ­£åœ¨æ’­å‡ºçš„ç•ªå‰§
   - ç”Ÿæˆ ICS æ—¥å†æ–‡ä»¶
   - è¿”å›æ—¥å†æ–‡ä»¶æˆ–è®¢é˜…é“¾æ¥

2. **ç•ªå‰§é¢„è§ˆæµç¨‹**
   - ç”¨æˆ·ç‚¹å‡»é¢„è§ˆæŒ‰é’®
   - è°ƒç”¨ `/api/bangumi/:uid` è·å–æ•°æ®
   - å‰ç«¯æ¸²æŸ“é¢„è§ˆå¼¹çª—
   - æ˜¾ç¤ºç•ªå‰§å¡ç‰‡ã€æ›´æ–°çŠ¶æ€ã€æé†’è®¾ç½®

3. **å¤–éƒ¨ICSèšåˆæµç¨‹**
   - ç”¨æˆ·å¯ç”¨èšåˆåŠŸèƒ½
   - è¾“å…¥æœ€å¤š 5 ä¸ªå¤–éƒ¨ ICS é“¾æ¥
   - è°ƒç”¨ `/aggregate/:uid.ics?sources=...`
   - åç«¯å¹¶å‘æ‹‰å–å¤–éƒ¨æº
   - åˆå¹¶ç•ªå‰§äº‹ä»¶ä¸å¤–éƒ¨äº‹ä»¶
   - è¿”å›èšåˆåçš„ ICS æ–‡ä»¶

### å…³é”®æ¨¡å—èŒè´£

| æ¨¡å— | æ–‡ä»¶ | èŒè´£ |
|------|------|------|
| **Bç«™ API** | `utils/bangumi.cjs` | è·å–ç”¨æˆ·è¿½ç•ªåˆ—è¡¨ï¼Œè¿‡æ»¤è¿è½½ç•ªå‰§ |
| **ICS ç”Ÿæˆ** | `utils/ics.cjs` | å°†ç•ªå‰§æ•°æ®è½¬æ¢ä¸º ICS æ ¼å¼ |
| **ICS èšåˆ** | `utils/ics-merge.cjs` | æ‹‰å–å¹¶åˆå¹¶å¤–éƒ¨ ICS æº |
| **é™æµå™¨** | `utils/rate-limiter.cjs` | åŸºäº IP çš„è¯·æ±‚é€Ÿç‡é™åˆ¶ |
| **å»é‡å™¨** | `utils/request-dedup.cjs` | é˜²æ­¢ç›¸åŒè¯·æ±‚å¹¶å‘æ‰§è¡Œ |
| **æ—¶é—´å¤„ç†** | `utils/time.cjs` | è§£ææ’­å‡ºæ—¶é—´ï¼Œè®¡ç®—ä¸‹æ¬¡æ›´æ–° |
| **æ€§èƒ½æŒ‡æ ‡** | `utils/metrics.cjs` | æ”¶é›†æ€§èƒ½æ•°æ®ï¼ŒPrometheuså¯¼å‡º |

---

## é¡¹ç›®ä»£ç é£æ ¼ä¸è§„èŒƒ

### å‘½åçº¦å®š

| ç±»å‹ | çº¦å®š | ç¤ºä¾‹ |
|------|------|------|
| **å˜é‡** | camelCase | `rateLimiter`, `bangumiData` |
| **å‡½æ•°** | camelCase | `getBangumiData()`, `generateICS()` |
| **å¸¸é‡** | SCREAMING_SNAKE_CASE | `BILIBILI_API_BASE_URL`, `CACHE_TTL` |
| **ç±»** | PascalCase | `RateLimiter`, `CacheManager` |
| **æ–‡ä»¶ (åç«¯)** | kebab-case + .cjs | `rate-limiter.cjs`, `request-dedup.cjs` |
| **æ–‡ä»¶ (å‰ç«¯)** | kebab-case + .js | `cache-manager.js`, `error-handler.js` |
| **CSS ç±»** | kebab-case | `.error-container`, `.anime-card` |
| **HTML ID** | kebab-case | `uid-input`, `generate-btn` |

### ä»£ç é£æ ¼

é¡¹ç›®ä½¿ç”¨ **ESLint + Prettier** è¿›è¡Œä»£ç è§„èŒƒæ£€æŸ¥ï¼š

```json
// .prettierrc.json
{
  "printWidth": 100,
  "singleQuote": true,
  "semi": true,
  "trailingComma": "es5"
}
```

```javascript
// eslint.config.js æ ¸å¿ƒè§„åˆ™
{
  'no-var': 'warn',
  'prefer-const': 'warn',
  'no-unused-vars': ['warn', { argsIgnorePattern: '^_' }],
  'no-console': 'off'  // å…è®¸ consoleï¼ˆç”¨äºæ—¥å¿—ï¼‰
}
```

#### Import è§„åˆ™

**åç«¯ (utils/*.cjs) - CommonJS**:
```javascript
// 1. Node.js å†…ç½®æ¨¡å—
const { createRequire } = require('module');
const path = require('path');

// 2. ç¬¬ä¸‰æ–¹ä¾èµ–
const axios = require('axios');

// 3. æœ¬åœ°æ¨¡å—
const { httpClient } = require('./http.cjs');
const { parseBroadcastTime } = require('./time.cjs');
```

**å‰ç«¯ (src/*.js) - ES Module**:
```javascript
// ES Module å¯¼å…¥
import './styles/app.scss';
import i18n from './services/i18n';
import { errorHandler } from './services/errorHandler';
```

**æœåŠ¡å™¨å…¥å£ (server.js) - ES Module + CommonJS æ··åˆ**:
```javascript
// ES Module å¯¼å…¥
import express from 'express';
import compression from 'compression';

// CommonJS æ¡¥æ¥ï¼ˆç”¨äº .cjs æ¨¡å—ï¼‰
import { createRequire } from 'module';
const require = createRequire(import.meta.url);
const { getBangumiData } = require('./utils/bangumi.cjs');
```

#### ä¾èµ–æ³¨å…¥

æœ¬é¡¹ç›®é‡‡ç”¨**å·¥å‚å‡½æ•°æ¨¡å¼**è¿›è¡Œä¾èµ–æ³¨å…¥ï¼š

```javascript
// åˆ›å»ºå®ä¾‹çš„å·¥å‚å‡½æ•°
function createRateLimiter(options = {}) {
  const config = {
    windowMs: options.windowMs || 15 * 60 * 1000,
    maxRequests: options.maxRequests || 100,
    ...options
  };

  return new RateLimiter(config);
}

// ä½¿ç”¨
const rateLimiter = createRateLimiter({ maxRequests: 50 });
```

#### æ—¥å¿—è§„èŒƒ

é¡¹ç›®ä½¿ç”¨ **console + emoji** è¿›è¡Œæ—¥å¿—è®°å½•ï¼š

```javascript
// ä¿¡æ¯æ—¥å¿—
console.log(`ğŸ“¥ ${req.method} ${req.originalUrl} - IP: ${ip}`);

// æˆåŠŸæ—¥å¿—
console.log(`âœ… ${req.method} ${req.originalUrl} - ${statusCode} - ${duration}ms`);

// è­¦å‘Šæ—¥å¿—
console.warn(`âš ï¸ Bç«™APIè¿”å›ä¸šåŠ¡é”™è¯¯: code=${code}, message=${message}`);

// é”™è¯¯æ—¥å¿—
console.error(`âŒ è¯·æ±‚å¤±è´¥: ${error.message}`);

// ç»Ÿè®¡æ—¥å¿—
console.log(`ğŸ“Š [UID:${uid}] æ€»å…± ${total} éƒ¨ç•ªå‰§ï¼Œè¿‡æ»¤å ${filtered} éƒ¨`);
```

**æ—¥å¿—çº§åˆ«è§„èŒƒ**:
| çº§åˆ« | æ–¹æ³• | ç”¨é€” | Emoji |
|------|------|------|-------|
| INFO | `console.log` | æ­£å¸¸æµç¨‹ã€ç»Ÿè®¡ä¿¡æ¯ | ğŸ“¥ âœ… ğŸ“Š ğŸ” |
| WARN | `console.warn` | ä¸šåŠ¡è­¦å‘Šã€éè‡´å‘½é”™è¯¯ | âš ï¸ |
| ERROR | `console.error` | ç³»ç»Ÿé”™è¯¯ã€å¼‚å¸¸ | âŒ |

#### å¼‚å¸¸å¤„ç†

**åç«¯å¼‚å¸¸å¤„ç†æ¨¡å¼**:
```javascript
async function getBangumiData(uid) {
  try {
    const response = await httpClient.get(url);

    // ä¸šåŠ¡é”™è¯¯å¤„ç†
    if (response.data.code !== 0) {
      return {
        error: 'API Error',
        message: response.data.message,
        code: response.data.code
      };
    }

    return response.data;
  } catch (error) {
    // ç½‘ç»œ/ç³»ç»Ÿé”™è¯¯
    console.error(`âŒ è·å–ç•ªå‰§æ•°æ®å¤±è´¥: ${error.message}`);
    return null;
  }
}
```

**å‰ç«¯å¼‚å¸¸å¤„ç†æ¨¡å¼**:
```javascript
async function generateSubscription(uid) {
  try {
    const response = await fetch(`/api/${uid}`);

    if (!response.ok) {
      throw new Error(`HTTP ${response.status}`);
    }

    return await response.text();
  } catch (error) {
    showError(identifyError(error));
    return null;
  }
}
```

#### å‚æ•°æ ¡éªŒ

**UID æ ¡éªŒ**:
```javascript
// çº¯æ•°å­—ï¼Œé•¿åº¦ 1-20
function validateUID(uid) {
  const trimmed = String(uid).trim();
  if (!/^\d{1,20}$/.test(trimmed)) {
    return { valid: false, error: 'UIDå¿…é¡»æ˜¯1-20ä½çº¯æ•°å­—' };
  }
  return { valid: true, sanitized: trimmed };
}
```

**æœåŠ¡ç«¯æ ¡éªŒ**:
```javascript
app.get('/api/:uid', (req, res) => {
  const uid = req.params.uid;
  const validation = validateUID(uid);

  if (!validation.valid) {
    return res.status(400).json({
      error: 'Invalid UID',
      message: validation.error
    });
  }

  // ä½¿ç”¨æ¸…ç†åçš„ UID
  const cleanUid = validation.sanitized;
  // ...
});
```

#### å…¶ä»–è§„èŒƒ

1. **æ³¨é‡Šè¯­è¨€**: ä¸­æ–‡æ³¨é‡Šï¼ˆä¸ä»£ç åº“ä¿æŒä¸€è‡´ï¼‰
2. **æ³¨é‡Šé£æ ¼**: JSDoc é£æ ¼
3. **ç¼©è¿›**: 2 ç©ºæ ¼
4. **è¡Œå°¾**: LF (Unix)
5. **æ–‡ä»¶ç¼–ç **: UTF-8

```javascript
/**
 * è·å–Bç«™ç”¨æˆ·è¿½ç•ªæ•°æ®å¹¶è¿‡æ»¤æ­£åœ¨æ’­å‡ºçš„ç•ªå‰§
 *
 * @param {string|number} uid - Bç«™ç”¨æˆ·UIDï¼Œå¿…é¡»æ˜¯çº¯æ•°å­—
 * @returns {Promise<Object|null>} è¿”å›å€¼è¯´æ˜ï¼š
 *   - æˆåŠŸ: { code: 0, data: { list: Array }, filtered_count: number }
 *   - ä¸šåŠ¡é”™è¯¯: { code: number, message: string, error: string }
 *   - ç½‘ç»œé”™è¯¯: null
 */
async function getBangumiData(uid) {
  // ...
}
```

---

## æµ‹è¯•ä¸è´¨é‡

### å•å…ƒæµ‹è¯•

**æµ‹è¯•æ¡†æ¶**: Node.js å†…ç½®æµ‹è¯•æ¡†æ¶ (`node:test`)

**æµ‹è¯•æ–‡ä»¶å‘½å**: `{æ¨¡å—å}.test.js`

**æµ‹è¯•ç¤ºä¾‹**:
```javascript
import assert from 'node:assert/strict';
import { describe, it } from 'node:test';

describe('utils/ics.cjs', () => {
  it('generateICS: basic calendar structure', () => {
    const sample = [{ title: 'æµ‹è¯•ç•ª', season_id: 123 }];
    const ics = generateICS(sample, '614500');

    assert.match(ics, /BEGIN:VCALENDAR/);
    assert.match(ics, /END:VCALENDAR/);
  });
});
```

### æµ‹è¯•è¦†ç›–èŒƒå›´

| æ¨¡å— | è¦†ç›–ç‡ | æ–‡ä»¶ | çŠ¶æ€ |
|------|--------|------|------|
| `ics.cjs` | 85% | `utils.ics.test.js` | âœ… å·²æµ‹è¯• |
| `time.cjs` | 90% | `utils.time.test.js` | âœ… å·²æµ‹è¯• |
| `rate-limiter.cjs` | 95% | `utils.rate-limiter.test.js` | âœ… å·²æµ‹è¯• |
| `request-dedup.cjs` | 95% | `utils.request-dedup.test.js` | âœ… å·²æµ‹è¯• |
| `ics-merge.cjs` | 80% | `ics-merge.test.js` | âœ… å·²æµ‹è¯• |
| `metrics.cjs` | 85% | `metrics.test.js` | âœ… å·²æµ‹è¯• |
| `validation.cjs` | 90% | `utils.validation.test.js` | âœ… å·²æµ‹è¯• |
| `security.cjs` | 90% | `utils.security.test.js` | âœ… å·²æµ‹è¯• |
| `bangumi.cjs` | 60% | - | âš ï¸ éœ€è¦ Mock |
| `http.cjs` | 50% | - | âš ï¸ éœ€è¦é›†æˆæµ‹è¯• |
| **å‰ç«¯æœåŠ¡** | 75% | `services.*.test.js` | ğŸ”„ éƒ¨åˆ†è¦†ç›– |

### å¾…è¡¥å……æµ‹è¯•

- [ ] `bangumi.cjs` - Bç«™ API è°ƒç”¨ (éœ€è¦ Mock)
- [ ] `http.cjs` - HTTP å®¢æˆ·ç«¯ (éœ€è¦é›†æˆæµ‹è¯•)
- [ ] `netlify/functions/` - Serverless å‡½æ•°æµ‹è¯•
- [ ] `scripts/` - æ„å»ºè„šæœ¬æµ‹è¯•
- [ ] **E2E æµ‹è¯•** - ä¸»è¦ç”¨æˆ·æµç¨‹

---

## é¡¹ç›®æ„å»ºã€æµ‹è¯•ä¸è¿è¡Œ

### ç¯å¢ƒä¸é…ç½®

| ç¯å¢ƒå˜é‡ | è¯´æ˜ | é»˜è®¤å€¼ |
|----------|------|--------|
| `PORT` | æœåŠ¡å™¨ç«¯å£ | `3000` |
| `NODE_ENV` | è¿è¡Œç¯å¢ƒ (`development` / `production`) | `development` |
| `TRUST_PROXY` | ä»£ç†ä¿¡ä»»è®¾ç½® | `undefined` |
| `VAPID_PUBLIC_KEY` | WebPush å…¬é’¥ | - |
| `VAPID_PRIVATE_KEY` | WebPush ç§é’¥ | - |
| `VAPID_SUBJECT` | WebPush è”ç³»é‚®ç®± | `mailto:admin@example.com` |
| `PUSH_ADMIN_TOKEN` | æ¨é€ç®¡ç†ä»¤ç‰Œ | - |

### å¸¸ç”¨å‘½ä»¤

```bash
# å®‰è£…ä¾èµ–
npm install

# å¼€å‘æ¨¡å¼ (çƒ­é‡è½½)
npm run dev

# ç”Ÿäº§æ¨¡å¼
npm start

# è¿è¡Œæµ‹è¯•
npm test

# ä»£ç æ£€æŸ¥
npm run lint

# ä»£ç æ ¼å¼åŒ–
npm run format:write

# æ„å»º Netlify Functions
npm run build

# ç±»å‹æ£€æŸ¥
npm run type-check

# ç”Ÿæˆ VAPID å¯†é’¥
node scripts/generate-vapid.js
```

### Docker éƒ¨ç½²

```bash
# æ„å»ºé•œåƒ
docker build -t bili-calendar .

# è¿è¡Œå®¹å™¨
docker run -p 3000:3000 bili-calendar

# Docker Compose
docker-compose up -d
```

---

## Git å·¥ä½œæµç¨‹

### åˆ†æ”¯ç­–ç•¥

| åˆ†æ”¯ | ç”¨é€” |
|------|------|
| `main` | ä¸»åˆ†æ”¯ï¼Œç¨³å®šç‰ˆæœ¬ |
| `feature/*` | åŠŸèƒ½å¼€å‘åˆ†æ”¯ |
| `fix/*` | Bug ä¿®å¤åˆ†æ”¯ |
| `docs/*` | æ–‡æ¡£æ›´æ–°åˆ†æ”¯ |

### æäº¤è§„èŒƒ

éµå¾ª **Conventional Commits** è§„èŒƒï¼š

```
<type>(<scope>): <description>

[optional body]

[optional footer]
```

**ç±»å‹ (type)**:
| ç±»å‹ | è¯´æ˜ |
|------|------|
| `feat` | æ–°åŠŸèƒ½ |
| `fix` | Bug ä¿®å¤ |
| `docs` | æ–‡æ¡£æ›´æ–° |
| `style` | ä»£ç æ ¼å¼ (ä¸å½±å“é€»è¾‘) |
| `refactor` | é‡æ„ |
| `test` | æµ‹è¯•ç›¸å…³ |
| `chore` | æ„å»º/å·¥å…·é“¾ |

**ç¤ºä¾‹**:
```
feat(ics): æ·»åŠ æ—¶åŒºè‡ªåŠ¨æ£€æµ‹åŠŸèƒ½

- æ”¯æŒæ ¹æ®ç•ªå‰§æ’­å‡ºåœ°åŒºè‡ªåŠ¨è®¾ç½®æ—¶åŒº
- é»˜è®¤ä½¿ç”¨ Asia/Shanghai

Closes #123
```

### ç‰ˆæœ¬ç®¡ç†

éµå¾ª **Semantic Versioning** (SemVer)ï¼š
- **MAJOR**: ä¸å…¼å®¹çš„ API å˜æ›´
- **MINOR**: å‘åå…¼å®¹çš„åŠŸèƒ½æ–°å¢
- **PATCH**: å‘åå…¼å®¹çš„ Bug ä¿®å¤

---

## è¦†ç›–ç‡æŠ¥å‘Š

### æ•´ä½“ç»Ÿè®¡

- **æ€»æ–‡ä»¶æ•°**: 178
- **å·²æ‰«ææ–‡ä»¶**: 89 (50%)
- **å¿½ç•¥æ–‡ä»¶**: 89 (node_modules, dist, .git ç­‰)
- **æ•´ä½“è¦†ç›–ç‡**: 78%

### æ¨¡å—è¦†ç›–ç‡

| æ¨¡å— | æ–‡ä»¶æ•° | è¦†ç›–ç‡ | ç¼ºå£ |
|------|--------|--------|------|
| `server.js` | 1 | 95% | - |
| `src/` | 23 | 85% | éƒ¨åˆ†æœåŠ¡ç¼ºæµ‹è¯• |
| `utils/` | 13 | 80% | bangumi.cjs, http.cjs |
| `utils-es/` | 8 | 70% | åŒ utils/ |
| `test/` | 26 | 85% | è¦†ç›–å…¨é¢ |
| `netlify/` | 1 | 60% | ç¼ºå°‘æµ‹è¯• |
| `scripts/` | 4 | 50% | ç¼ºå°‘æµ‹è¯• |
| `public/` | 8 | 0% | é™æ€èµ„æº |
| `dist/` | - | N/A | æ„å»ºäº§ç‰© |

### ä¸»è¦ç¼ºå£

1. **utils/bangumi.cjs** - éœ€è¦ Mock Bç«™ API è¿›è¡Œæµ‹è¯•
2. **utils/http.cjs** - éœ€è¦é›†æˆæµ‹è¯•éªŒè¯ HTTP å°è£…
3. **scripts/** - æ„å»ºè„šæœ¬ç¼ºå°‘æµ‹è¯•è¦†ç›–
4. **netlify/functions/** - Serverless å‡½æ•°ç¼ºå°‘æµ‹è¯•
5. **å‰ç«¯ E2E** - ç¼ºå°‘ç«¯åˆ°ç«¯æµ‹è¯•

### ä¸‹ä¸€æ­¥å»ºè®®

**ä¼˜å…ˆè¡¥æ‰«**:
1. `test/` ç›®å½•ä¸­æœªè¦†ç›–çš„æœåŠ¡æµ‹è¯•
2. `src/services/` å‰ç«¯æœåŠ¡çš„å•å…ƒæµ‹è¯•

**å»ºè®®è¡¥æ‰«**:
1. `netlify/functions/` Serverless å‡½æ•°
2. `scripts/` æ„å»ºè„šæœ¬è¯¦ç»†é€»è¾‘
3. `src/components/` ç»„ä»¶å®ç°ç»†èŠ‚

**é•¿æœŸè§„åˆ’**:
1. æ·»åŠ  E2E æµ‹è¯•è¦†ç›–ä¸»è¦ç”¨æˆ·æµç¨‹
2. è¡¥å…… Bç«™ API Mock æµ‹è¯•
3. è¡¥å…… HTTP å®¢æˆ·ç«¯é›†æˆæµ‹è¯•
4. è¡¥å……æ„å»ºè„šæœ¬æµ‹è¯•

---

## æ–‡æ¡£ç›®å½•

### æ–‡æ¡£å­˜å‚¨è§„èŒƒ

```
é¡¹ç›®æ ¹ç›®å½•/
â”œâ”€â”€ CLAUDE.md                    # [æ ¹] é¡¹ç›®æŒ‡å¯¼æ–‡ä»¶ï¼ˆæœ¬æ–‡ä»¶ï¼‰
â”œâ”€â”€ README.md                    # ä¸­æ–‡ç”¨æˆ·æ–‡æ¡£
â”œâ”€â”€ README.en.md                 # è‹±æ–‡ç”¨æˆ·æ–‡æ¡£
â”‚
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ CLAUDE.md                # å·¥å…·æ¨¡å—æ–‡æ¡£
â”‚
â”œâ”€â”€ test/
â”‚   â””â”€â”€ CLAUDE.md                # æµ‹è¯•æ¨¡å—æ–‡æ¡£
â”‚
â””â”€â”€ .claude/
    â””â”€â”€ index.json               # AIä¸Šä¸‹æ–‡ç´¢å¼•
```

### æ–‡æ¡£ç´¢å¼•

| æ–‡æ¡£ | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| **é¡¹ç›®æŒ‡å¯¼** | `/CLAUDE.md` | é¡¹ç›®æ•´ä½“æ¶æ„ä¸è§„èŒƒï¼ˆæœ¬æ–‡ä»¶ï¼‰ |
| **å·¥å…·æ¨¡å—** | `/utils/CLAUDE.md` | åç«¯å·¥å…·å±‚è¯¦ç»†æ–‡æ¡£ |
| **æµ‹è¯•æ¨¡å—** | `/test/CLAUDE.md` | æµ‹è¯•å¥—ä»¶è¯¦ç»†æ–‡æ¡£ |
| **é¡¹ç›®ç´¢å¼•** | `/.claude/index.json` | AIä¸Šä¸‹æ–‡å…ƒæ•°æ® |
| **ç”¨æˆ·æ–‡æ¡£** | `/README.md` | é¢å‘ç”¨æˆ·çš„ä½¿ç”¨è¯´æ˜ |

### æ–‡æ¡£ç»´æŠ¤è§„åˆ™

1. **åŒæ­¥æ›´æ–°**: ä»£ç å˜æ›´æ—¶åŒæ­¥æ›´æ–°ç›¸å…³æ–‡æ¡£
2. **ç‰ˆæœ¬æ ‡è®°**: æ–‡æ¡£é¡¶éƒ¨æ ‡æ³¨æœ€åæ›´æ–°æ—¶é—´
3. **æ¨¡å—éš”ç¦»**: æ¯ä¸ªä¸»è¦æ¨¡å—ç»´æŠ¤ç‹¬ç«‹çš„ `CLAUDE.md`
4. **é“¾æ¥æœ‰æ•ˆ**: ç¡®ä¿æ–‡æ¡£é—´çš„ç›¸äº’å¼•ç”¨é“¾æ¥æœ‰æ•ˆ

---

## ç›¸å…³é“¾æ¥

- **åœ¨çº¿æœåŠ¡**: https://calendar.cosr.eu.org
- **GitHub ä»“åº“**: https://github.com/Silentely/Bili-Calendar
- **Docker é•œåƒ**: ghcr.io/silentely/bili-calendar
- **é—®é¢˜åé¦ˆ**: https://github.com/Silentely/Bili-Calendar/issues

---

## è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](./LICENSE)
